<h1>Registros del sistema</h1>

<%  if @logs == nil || @logs.size == 0  %>
  <h3 class='mt-5'>No hay registros en la plataforma.</h3>
<% else %>
  <table class="table table-bordered mt-5">
    <thead>
      <tr>
        <th>Evento</th>
        <th>Nombre</th>
        <th>Mensaje</th>
        <%
=begin%>
 <th>Fecha y Hora</th> 
<%
=end%>
        <th>Usuario Obigatorio</th>
        <th>Usuario Opcional</th>
        <th>Fecha y hora</th>
        <%
=begin%>
 <th>Updated At</th> 
<%
=end%>
      </tr>
    </thead>
    <tbody>
      <% @logs.each do |log| %>
        <tr>
          <td><%= log.tipo_log %></td>
          <td>
            <% if log.tipo_log.include?('Proyecto') %>
              <%= Proyecto.find(log.subject_id).nombre %>
            <% elsif log.tipo_log.include?('Meta') %>
              <%= Meta.find(log.subject_id).nombre %>
            <% elsif log.tipo_log.include?('Tarea') %>
              <%= Tarea.find(log.subject_id).nombre %>
            <% end %>
          </td>
          <td><%= log.mensaje %></td>
          <%
=begin%>
 <td><%= log.fecha_hora %></td> 
<%
=end%>
          <td><%= Usuario.find(log.obligatorio_id).nombre %></td>
          <td><%= Usuario.find(log.opcional_id).nombre %></td>
          <td><%= log.created_at %></td>
          <%
=begin%>
 <td><%= log.updated_at %></td> 
<%
=end%>
        </tr>
      <% end %>
    </tbody>
  </table>
<% end %>